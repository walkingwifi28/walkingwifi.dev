---
import githubIcon from "../assets/icons/github-mark.svg";

const siteName = "walkingwifi.dev";
---

<header
    id="main-header"
    class="p-4 sticky top-0 z-50 w-full transition-all duration-500 ease-in-out"
>
    <div
        class="flex mx-auto items-center justify-between gap-6 w-max px-6 py-4 rounded-full bg-white/95 backdrop-blur-lg shadow-md border border-gray-200 transition-all duration-300"
    >
        <a
            href="/"
            class="text-lg font-semibold tracking-wide text-zinc-800 no-underline hover:opacity-70 transition-opacity duration-300"
        >
            {siteName}
        </a>
        <a
            href="https://github.com/walkingwifi28/walkingwifi.dev"
            target="_blank"
            rel="noopener noreferrer"
            class="hover:opacity-70 transition-opacity duration-300"
            aria-label="GitHub Repository"
        >
            <img src={githubIcon.src} alt="GitHub" width="18" height="18" />
        </a>
    </div>
</header>

<script>
    const header = document.getElementById("main-header");

    if (header) {
        const headerHeight = header.offsetHeight;

        const handleScroll = () => {
            if (window.scrollY > headerHeight) {
                header.classList.add(
                    "opacity-0",
                    "-translate-y-full",
                    "pointer-events-none",
                );
            } else {
                header.classList.remove(
                    "opacity-0",
                    "-translate-y-full",
                    "pointer-events-none",
                );
            }
        };

        window.addEventListener("scroll", handleScroll);
        // 初期状態をチェック
        handleScroll();
    }
</script>
